{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NavigationContainer, useNavigation } from '@react-navigation/native';\nimport React, { Component, useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport styles from \"./styles\";\nimport { useDispatch } from 'react-redux';\nimport { createPost } from \"../../redux/actions/post\";\nimport { useSelector } from \"react-redux\";\nimport { Feather } from '@expo/vector-icons';\nimport NavBarGeneral from \"../../components/general/navbar\";\nimport { Divider } from 'react-native-paper';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport * as Animatable from 'react-native-animatable';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function PetLost() {\n  var navigation = useNavigation();\n  var currentUserPets = useSelector(function (state) {\n    return state.pets.currentUserPets;\n  });\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fecha = _useState4[0],\n      setFecha = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      situacion = _useState6[0],\n      setSituacion = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      estatura = _useState8[0],\n      setEstatura = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      accesorios = _useState10[0],\n      setAccesorios = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      collar = _useState12[0],\n      setCollar = _useState12[1];\n\n  var _useState13 = useState(2),\n      _useState14 = _slicedToArray(_useState13, 2),\n      tipo = _useState14[0],\n      setTipo = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      requestRunning = _useState16[0],\n      setRequestRunning = _useState16[1];\n\n  var dispatch = useDispatch();\n\n  var handleSavePost = function handleSavePost() {\n    setRequestRunning(true);\n    dispatch(createPost(description, null, fecha, situacion, estatura, accesorios, collar, tipo)).then(function () {\n      return navigation.dispatch(StackActions.popToTop());\n    }).catch(function () {\n      return setRequestRunning(false);\n    });\n  };\n\n  var auth = useSelector(function (state) {\n    return state.auth.currentUser;\n  });\n\n  if (requestRunning) {\n    return _jsx(View, {\n      style: styles.uploadingContainer,\n      children: _jsx(ActivityIndicator, {\n        color: \"red\",\n        size: \"large\"\n      })\n    });\n  }\n\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(ScrollView, {\n      children: [_jsx(NavBarGeneral, {\n        title: 'REPORTAR PÉRDIDA DE MASCOTA'\n      }), _jsx(Divider, {}), _jsxs(View, {\n        style: styles.back,\n        children: [_jsxs(View, {\n          style: styles.counter,\n          children: [_jsx(Animatable.Text, {\n            animation: \"flipInY\",\n            delay: 200,\n            style: styles.etiquetaCampo,\n            children: \"FECHA DE P\\xC9RDIDA\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            placeholder: \"FECHA\",\n            onChangeText: function onChangeText(text) {\n              return setFecha(text);\n            }\n          })]\n        }), _jsxs(View, {\n          style: styles.counter,\n          children: [_jsx(Animatable.Text, {\n            animation: \"flipInY\",\n            delay: 300,\n            style: styles.etiquetaCampo,\n            children: \"INFORMACION SOBRE P\\xC9RDIDA\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            maxLength: 180,\n            multiline: true,\n            onChangeText: function onChangeText(text) {\n              return setDescription(text);\n            },\n            placeholder: \"DESCRIPCION\"\n          })]\n        }), _jsxs(View, {\n          style: styles.counter,\n          children: [_jsx(Animatable.Text, {\n            animation: \"flipInY\",\n            delay: 400,\n            style: styles.etiquetaCampo,\n            children: \"SITUACION ACTUAL\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            placeholder: \"SITUACION\",\n            onChangeText: function onChangeText(text) {\n              return setSituacion(text);\n            }\n          })]\n        }), _jsxs(View, {\n          style: styles.counter,\n          children: [_jsx(Animatable.Text, {\n            animation: \"flipInY\",\n            delay: 500,\n            style: styles.etiquetaCampo,\n            children: \"PERFIL DE MASCOTA\"\n          }), _jsx(Picker, {\n            style: styles.picker,\n            mode: \"dialog\",\n            children: currentUserPets.map(function (item, index) {\n              return _jsx(Picker.Item, {\n                label: item.Nombre,\n                value: item.Nombre\n              }, index);\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.counter,\n          children: [_jsx(Animatable.Text, {\n            animation: \"flipInY\",\n            delay: 600,\n            style: styles.etiquetaCampo,\n            children: \"UBICACION REFERENCIAL\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            placeholder: \" MAPA VA AQUI\"\n          })]\n        })]\n      }), _jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          return handleSavePost();\n        },\n        style: styles.postButton,\n        children: [_jsx(Feather, {\n          name: \"corner-left-up\",\n          size: 20,\n          color: \"white\"\n        }), _jsxs(Animatable.Text, {\n          animation: \"pulse\",\n          iterationCount: \"infinite\",\n          style: styles.postButtonText,\n          children: [\"  Reportar perdida de:\\\"\", petSelected, \"\\\"\"]\n        })]\n      })]\n    })\n  });\n}","map":{"version":3,"names":["NavigationContainer","useNavigation","React","Component","useEffect","useState","styles","useDispatch","createPost","useSelector","Feather","NavBarGeneral","Divider","SafeAreaView","Animatable","PetLost","navigation","currentUserPets","state","pets","description","setDescription","fecha","setFecha","situacion","setSituacion","estatura","setEstatura","accesorios","setAccesorios","collar","setCollar","tipo","setTipo","requestRunning","setRequestRunning","dispatch","handleSavePost","then","StackActions","popToTop","catch","auth","currentUser","uploadingContainer","container","back","counter","etiquetaCampo","input","text","picker","map","item","index","Nombre","postButton","postButtonText","petSelected"],"sources":["/home/jesus/Ulima/IX-Ciclo/Gest-proyectos/pocket-pet-gp/frontend/src/screens/petLost/index.js"],"sourcesContent":["import { NavigationContainer, useNavigation } from '@react-navigation/native'\nimport React, { Component, useEffect, useState } from 'react';\nimport { View, Text, TextInput, Picker, Button, TouchableOpacity, Alert, ScrollView, ActivityIndicator,Modal,Switch,Image,StyleSheet} from \"react-native\";\nimport styles from './styles';\nimport {useDispatch} from 'react-redux'\nimport { createPost } from '../../redux/actions/post'\nimport { useSelector } from \"react-redux\";\nimport {Feather} from '@expo/vector-icons'\nimport NavBarGeneral from '../../components/general/navbar'\nimport {Divider} from 'react-native-paper'\nimport { SafeAreaView } from 'react-native-safe-area-context'\nimport * as Animatable from 'react-native-animatable';\n\nexport default function PetLost() {\n    \n    \n    const navigation = useNavigation()\n\n    const currentUserPets = useSelector((state) => state.pets.currentUserPets);\n\n    const [description, setDescription] = useState('')\n    const [fecha, setFecha] = useState('')\n    const [situacion, setSituacion] = useState('')\n    const [estatura, setEstatura] = useState('')\n    const [accesorios, setAccesorios] = useState('')\n    const [collar, setCollar] = useState('')\n    const [tipo, setTipo] = useState(2)\n    // const [petSelected, setpetSelected] = useState(currentUserPets[0]?.Nombre)\n\n    const [requestRunning, setRequestRunning] = useState(false)\n\n    const dispatch = useDispatch()\n    const handleSavePost = () => {\n        setRequestRunning(true)\n        dispatch(createPost(description, null, fecha, situacion, estatura, accesorios, collar, tipo))\n        .then(() => navigation.dispatch(StackActions.popToTop())) //Vamos a la primer ventana\n        .catch(() => setRequestRunning(false))\n    }\n\n\n    const auth = useSelector((state) => state.auth.currentUser);\n    if(requestRunning){\n        return(\n        <View style={styles.uploadingContainer}>\n            <ActivityIndicator color='red' size='large' />\n        </View>\n        )\n    } \n\n        return (\n            <SafeAreaView style={styles.container}>\n                <ScrollView>\n                <NavBarGeneral title={'REPORTAR PÉRDIDA DE MASCOTA'}/>\n\n                <Divider />\n\n                    <View  style={styles.back}>\n     \n                        <View style={styles .counter}>\n                            <Animatable.Text animation=\"flipInY\" delay={200} style={styles.etiquetaCampo}>FECHA DE PÉRDIDA</Animatable.Text>\n                                <TextInput\n                                style={styles.input}\n                                placeholder='FECHA'\n                                onChangeText={(text) => setFecha(text)}/>\n                        </View>\n\n                        <View style={styles .counter}>\n                        <Animatable.Text animation=\"flipInY\" delay={300} style={styles.etiquetaCampo}>INFORMACION SOBRE PÉRDIDA</Animatable.Text>\n                        <TextInput\n                            style={styles.input}\n                            maxLength={180}\n                            multiline\n                            onChangeText={(text) => setDescription(text)}\n                            placeholder='DESCRIPCION'/>\n                        </View>\n\n                        <View style={styles .counter}>\n                            <Animatable.Text animation=\"flipInY\" delay={400} style={styles.etiquetaCampo}>SITUACION ACTUAL</Animatable.Text>\n                            <TextInput\n                                style={styles.input}\n                                placeholder='SITUACION'\n                                onChangeText={(text) => setSituacion(text)}/>\n                        </View>\n\n                        <View style={styles .counter}>\n                            <Animatable.Text animation=\"flipInY\" delay={500} style={styles.etiquetaCampo}>PERFIL DE MASCOTA</Animatable.Text>\n\n                            <Picker style={styles.picker}\n                            mode=\"dialog\" \n                            >\n                        \n                            {currentUserPets.map((item, index) => {\n                            return (<Picker.Item label={item.Nombre} value={item.Nombre} key={index}/>)   })}\n                            </Picker> \n                        </View>\n\n                        <View style={styles .counter}>\n                            <Animatable.Text animation=\"flipInY\" delay={600} style={styles.etiquetaCampo}>UBICACION REFERENCIAL</Animatable.Text>\n                            <TextInput\n                                style={styles.input}\n                                placeholder=' MAPA VA AQUI'/>\n                        </View>\n\n                    </View>\n\n                   <TouchableOpacity\n                    onPress={() => handleSavePost()}\n                    style={styles.postButton}>\n                        <Feather name=\"corner-left-up\" size={20} color=\"white\" />\n                        <Animatable.Text animation=\"pulse\" iterationCount='infinite' style={styles.postButtonText}>  Reportar perdida de:\"{petSelected}\"</Animatable.Text>\n                </TouchableOpacity>\n                            \n                </ScrollView>\n\n            </SafeAreaView>\n        );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}