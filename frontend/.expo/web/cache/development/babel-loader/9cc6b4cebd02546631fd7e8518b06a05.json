{"ast":null,"code":"import firebase from 'firebase';\n\nrequire('firebase/firebase-storage');\n\nexport var saveMediaToStorage = function saveMediaToStorage(media, path) {\n  return new Promise(function (resolve, reject) {\n    var fileRef = firebase.storage().ref().child(path);\n    fetch(media).then(function (response) {\n      return response.blob();\n    }).then(function (blob) {\n      return fileRef.put(blob);\n    }).then(function (task) {\n      return task.ref.getDownloadURL();\n    }).then(function (downloadUrl) {\n      return resolve(downloadUrl);\n    }).catch(function () {\n      return reject();\n    });\n  });\n};","map":{"version":3,"names":["firebase","require","saveMediaToStorage","media","path","Promise","resolve","reject","fileRef","storage","ref","child","fetch","then","response","blob","put","task","getDownloadURL","downloadUrl","catch"],"sources":["D:/2022-1/GEST.PROYECTOS/pocket-pet/frontend/src/services/random.js"],"sourcesContent":["import firebase from 'firebase'\r\nrequire('firebase/firebase-storage')\r\n\r\n// media -> uri de la (FOTO)\r\n// path -> Ruta en FireStorage\r\nexport const saveMediaToStorage = (media, path) => new Promise((resolve, reject) => {\r\n    \r\n    //fileRed --> donde se guardara el archivo Media\r\n    const fileRef = firebase.storage().ref().child(path)\r\n    fetch(media) //descargamos el archivo multimedia del dispositivo del usuario\r\n    .then(response => response.blob())  //blob = forma binaria del formato en que depslegamos una imagen.\r\n    .then(blob => fileRef.put(blob))    //enviamos el archivo a fstorage  (Se craga)\r\n    .then(task => task.ref.getDownloadURL())  // obtenemos el URL de descarga\r\n    .then(downloadUrl => resolve(downloadUrl)) // Resolvemos la promesa uilizando el URL <-- Lo recibimos del Res de Post.js\r\n    .catch(() => reject())\r\n});"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;AACAC,OAAO,CAAC,2BAAD,CAAP;;AAIA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAQC,IAAR;EAAA,OAAiB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;IAGhF,IAAMC,OAAO,GAAGR,QAAQ,CAACS,OAAT,GAAmBC,GAAnB,GAAyBC,KAAzB,CAA+BP,IAA/B,CAAhB;IACAQ,KAAK,CAACT,KAAD,CAAL,CACCU,IADD,CACM,UAAAC,QAAQ;MAAA,OAAIA,QAAQ,CAACC,IAAT,EAAJ;IAAA,CADd,EAECF,IAFD,CAEM,UAAAE,IAAI;MAAA,OAAIP,OAAO,CAACQ,GAAR,CAAYD,IAAZ,CAAJ;IAAA,CAFV,EAGCF,IAHD,CAGM,UAAAI,IAAI;MAAA,OAAIA,IAAI,CAACP,GAAL,CAASQ,cAAT,EAAJ;IAAA,CAHV,EAICL,IAJD,CAIM,UAAAM,WAAW;MAAA,OAAIb,OAAO,CAACa,WAAD,CAAX;IAAA,CAJjB,EAKCC,KALD,CAKO;MAAA,OAAMb,MAAM,EAAZ;IAAA,CALP;EAMH,CAVkD,CAAjB;AAAA,CAA3B"},"metadata":{},"sourceType":"module"}