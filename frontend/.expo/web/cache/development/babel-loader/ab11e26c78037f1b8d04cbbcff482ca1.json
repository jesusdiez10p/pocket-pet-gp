{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useNavigation } from '@react-navigation/native';\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport styles from \"./styles\";\nimport { useDispatch } from 'react-redux';\nimport { createPost } from \"../../redux/actions/post\";\nimport { useSelector } from \"react-redux\";\nimport NavBarGeneral from \"../../components/general/navbar\";\nimport { Divider } from 'react-native-paper';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport Adoptions from \"../../components/pets/Adoptions\";\nimport Requests from \"../../components/pets/PetRequest\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function PetScreen() {\n  var navigation = useNavigation();\n  var currentUserPets = useSelector(function (state) {\n    return state.pets.currentUserPets;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      requestRunning = _useState2[0],\n      setRequestRunning = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var handleSavePost = function handleSavePost() {\n    setRequestRunning(true);\n    dispatch(createPost(description, null, fecha, situacion, estatura, accesorios, collar, tipo, petSelected)).then(function () {\n      return navigation.dispatch(StackActions.popToTop());\n    }).catch(function () {\n      return setRequestRunning(false);\n    });\n  };\n\n  var auth = useSelector(function (state) {\n    return state.auth.currentUser;\n  });\n\n  if (requestRunning) {\n    return _jsx(View, {\n      style: styles.uploadingContainer,\n      children: _jsx(ActivityIndicator, {\n        color: \"red\",\n        size: \"large\"\n      })\n    });\n  }\n\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(ScrollView, {\n      children: [_jsx(NavBarGeneral, {\n        title: 'ADOPCIONES'\n      }), _jsx(Divider, {}), String(auth == null ? void 0 : auth.TipoUsuario) == 'Albergue' ? _jsx(Requests, {\n        pets: currentUserPets\n      }) : _jsx(Adoptions, {})]\n    })\n  });\n}","map":{"version":3,"names":["useNavigation","React","useState","styles","useDispatch","createPost","useSelector","NavBarGeneral","Divider","SafeAreaView","Adoptions","Requests","PetScreen","navigation","currentUserPets","state","pets","requestRunning","setRequestRunning","dispatch","handleSavePost","description","fecha","situacion","estatura","accesorios","collar","tipo","petSelected","then","StackActions","popToTop","catch","auth","currentUser","uploadingContainer","container","String","TipoUsuario"],"sources":["/home/jesus/Ulima/IX-Ciclo/Gest-proyectos/pocket-pet-gp/frontend/src/screens/pets/index.js"],"sourcesContent":["import { useNavigation } from '@react-navigation/native'\nimport React, { useState } from 'react';\nimport { View, ScrollView, ActivityIndicator} from \"react-native\";\nimport styles from './styles';\nimport {useDispatch} from 'react-redux'\nimport { createPost } from '../../redux/actions/post'\nimport { useSelector } from \"react-redux\";\nimport NavBarGeneral from '../../components/general/navbar'\nimport {Divider} from 'react-native-paper'\nimport { SafeAreaView } from 'react-native-safe-area-context'\nimport Adoptions from '../../components/pets/Adoptions';\nimport Requests from '../../components/pets/PetRequest';\nexport default function PetScreen() {\n    \n    \n    const navigation = useNavigation()\n    const currentUserPets = useSelector((state) => state.pets.currentUserPets);\n    const [requestRunning, setRequestRunning] = useState(false)\n\n    const dispatch = useDispatch()\n\n    const handleSavePost = () => {\n        setRequestRunning(true)\n        dispatch(createPost(description, null, fecha, situacion, estatura, accesorios, collar, tipo, petSelected))\n        .then(() => navigation.dispatch(StackActions.popToTop())) //Vamos a la primer ventana\n        .catch(() => setRequestRunning(false))\n    }\n\n\n    const auth = useSelector((state) => state.auth.currentUser);\n    if(requestRunning){\n        return(\n        <View style={styles.uploadingContainer}>\n            <ActivityIndicator color='red' size='large' />\n        </View>\n        )\n    } \n\n        return (\n            <SafeAreaView style={styles.container}>\n                <ScrollView>\n                    <NavBarGeneral title={'ADOPCIONES'}/>\n                    <Divider />\n                {/*Si el usuario es Albergue mostrar vista Requests (solicitudes por mascota)*/}\n                {String(auth?.TipoUsuario)=='Albergue'?\n                <Requests pets={currentUserPets}/>:\n                <Adoptions/>\n            }      \n                </ScrollView>\n            </SafeAreaView>\n        );\n}\n\n"],"mappings":";AAAA,SAASA,aAAT,QAA8B,0BAA9B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;AAEA,OAAOC,MAAP;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAASC,UAAT;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,aAAP;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,SAASC,YAAT,QAA6B,gCAA7B;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;;;AACA,eAAe,SAASC,SAAT,GAAqB;EAGhC,IAAMC,UAAU,GAAGb,aAAa,EAAhC;EACA,IAAMc,eAAe,GAAGR,WAAW,CAAC,UAACS,KAAD;IAAA,OAAWA,KAAK,CAACC,IAAN,CAAWF,eAAtB;EAAA,CAAD,CAAnC;;EACA,gBAA4CZ,QAAQ,CAAC,KAAD,CAApD;EAAA;EAAA,IAAOe,cAAP;EAAA,IAAuBC,iBAAvB;;EAEA,IAAMC,QAAQ,GAAGf,WAAW,EAA5B;;EAEA,IAAMgB,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IACzBF,iBAAiB,CAAC,IAAD,CAAjB;IACAC,QAAQ,CAACd,UAAU,CAACgB,WAAD,EAAc,IAAd,EAAoBC,KAApB,EAA2BC,SAA3B,EAAsCC,QAAtC,EAAgDC,UAAhD,EAA4DC,MAA5D,EAAoEC,IAApE,EAA0EC,WAA1E,CAAX,CAAR,CACCC,IADD,CACM;MAAA,OAAMhB,UAAU,CAACM,QAAX,CAAoBW,YAAY,CAACC,QAAb,EAApB,CAAN;IAAA,CADN,EAECC,KAFD,CAEO;MAAA,OAAMd,iBAAiB,CAAC,KAAD,CAAvB;IAAA,CAFP;EAGH,CALD;;EAQA,IAAMe,IAAI,GAAG3B,WAAW,CAAC,UAACS,KAAD;IAAA,OAAWA,KAAK,CAACkB,IAAN,CAAWC,WAAtB;EAAA,CAAD,CAAxB;;EACA,IAAGjB,cAAH,EAAkB;IACd,OACA,KAAC,IAAD;MAAM,KAAK,EAAEd,MAAM,CAACgC,kBAApB;MAAA,UACI,KAAC,iBAAD;QAAmB,KAAK,EAAC,KAAzB;QAA+B,IAAI,EAAC;MAApC;IADJ,EADA;EAKH;;EAEG,OACI,KAAC,YAAD;IAAc,KAAK,EAAEhC,MAAM,CAACiC,SAA5B;IAAA,UACI,MAAC,UAAD;MAAA,WACI,KAAC,aAAD;QAAe,KAAK,EAAE;MAAtB,EADJ,EAEI,KAAC,OAAD,KAFJ,EAICC,MAAM,CAACJ,IAAD,oBAACA,IAAI,CAAEK,WAAP,CAAN,IAA2B,UAA3B,GACD,KAAC,QAAD;QAAU,IAAI,EAAExB;MAAhB,EADC,GAED,KAAC,SAAD,KANA;IAAA;EADJ,EADJ;AAaP"},"metadata":{},"sourceType":"module"}