{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Feather } from \"@expo/vector-icons\";\nimport styles from \"./style\";\nimport { useDispatch } from \"react-redux\";\nimport { register, login } from \"../../../redux/actions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AuthDetails(_ref) {\n  var authPage = _ref.authPage,\n      setdetailsPage = _ref.setdetailsPage;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errorReg = _useState6[0],\n      seterrorReg = _useState6[1];\n\n  var dispatch = useDispatch();\n\n  var handleLogin = function handleLogin() {\n    dispatch(login(email, password)).then(function () {\n      console.log(\"Inicio de sesión correcto\");\n    }).catch(function () {\n      console.log(\"Inicio de sesión fallido\");\n    });\n  };\n\n  var handleRegister = function handleRegister() {\n    dispatch(register(email, password)).then(function () {\n      console.log(\"Registro correcto\");\n    }).catch(function () {\n      seterrorReg(true);\n      console.log(\"Registro fallido\");\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return setdetailsPage(false);\n      },\n      children: _jsx(Feather, {\n        name: \"arrow-left\",\n        size: 24,\n        color: \"black\"\n      })\n    }), errorReg ? _jsx(Text, {\n      style: {\n        backgroundColor: \"#f21b1b70\"\n      },\n      children: \"No se cumple con los par\\xE1metros indicados.\"\n    }) : _jsx(_Fragment, {}), _jsx(TextInput, {\n      onChangeText: function onChangeText(text) {\n        return setEmail(text);\n      },\n      style: styles.TextInput,\n      placeholder: \"Email\"\n    }), _jsx(TextInput, {\n      onChangeText: function onChangeText(text) {\n        return setPassword(text);\n      },\n      style: styles.TextInput,\n      secureTextEntry: true,\n      placeholder: \"Contrase\\xF1a\"\n    }), _jsx(View, {\n      children: authPage == 0 ? _jsx(View, {}) : _jsx(TextInput, {\n        style: styles.TextInput,\n        secureTextEntry: true,\n        placeholder: \"Confirmar contrasena\"\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: function onPress() {\n        return authPage == 0 ? handleLogin() : handleRegister();\n      },\n      children: _jsxs(Text, {\n        style: styles.buttonText,\n        children: [\" \", authPage == 0 ? \"Iniciar Sesión\" : \"Crear cuenta\", \" \"]\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","Feather","styles","useDispatch","register","login","AuthDetails","authPage","setdetailsPage","email","setEmail","password","setPassword","errorReg","seterrorReg","dispatch","handleLogin","then","console","log","catch","handleRegister","container","backgroundColor","text","TextInput","button","buttonText"],"sources":["/home/jesus/Ulima/IX-Ciclo/Gest-proyectos/pocket-pet-gp/frontend/src/components/auth/details/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { View, Text, TouchableOpacity, TextInput } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport styles from \"./style\";\nimport { useDispatch } from \"react-redux\";\nimport { register, login } from \"../../../redux/actions\";\nexport default function AuthDetails({ authPage, setdetailsPage }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [errorReg, seterrorReg] = useState(false)\n\n  const dispatch = useDispatch(); //para llamar a redux\n\n  const handleLogin = () => {\n    dispatch(login(email, password))\n      .then(() => {\n        console.log(\"Inicio de sesión correcto\");\n      })\n      .catch(() => {\n        console.log(\"Inicio de sesión fallido\");\n      });\n  };\n\n  const handleRegister = () => {\n    dispatch(register(email, password))\n      .then(() => {\n        console.log(\"Registro correcto\");\n      })\n      .catch(() => {\n        seterrorReg(true)\n        console.log(\"Registro fallido\");\n      });\n  };\n\n  return (\n\n    \n    <View style={styles.container}>\n\n\n      <TouchableOpacity onPress={() => setdetailsPage(false)}>\n        <Feather name=\"arrow-left\" size={24} color=\"black\" />\n      </TouchableOpacity>\n\n\n      {errorReg? \n      <Text style={{ backgroundColor: \"#f21b1b70\"}}>No se cumple con los parámetros indicados.</Text>:\n      <></>}\n      <TextInput\n        onChangeText={(text) => setEmail(text)}\n        style={styles.TextInput}\n        placeholder=\"Email\"\n      />\n      <TextInput\n        onChangeText={(text) => setPassword(text)}\n        style={styles.TextInput}\n        secureTextEntry\n        placeholder=\"Contraseña\"\n      />\n\n      <View >\n        {authPage == 0? \n          <View>\n\n          </View> : \n        <TextInput style={styles.TextInput}\n          secureTextEntry\n          placeholder = \"Confirmar contrasena\">\n        </TextInput>}\n      </View>\n\n    \n      <TouchableOpacity\n        style={styles.button}\n        onPress={() => (authPage == 0 ? handleLogin() : handleRegister())}\n      >\n        <Text style={styles.buttonText}>\n          {\" \"}\n          {authPage == 0 ? \"Iniciar Sesión\" : \"Crear cuenta\"}{\" \"}\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}