{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Icon from \"react-native-ico-material-design\";\nimport styles from \"./styles\";\nimport UserInfo from \"../../components/User/Info\";\nimport UserCount from \"../../components/User/Count\";\nimport UserPosts from \"../../components/User/Posts\";\nimport UserBar from \"../../components/User/Bar\";\nimport UserPets from \"../../components/User/Pets\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { showUserPets } from \"../../redux/actions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function UserScreen(_ref) {\n  var _currentUser;\n\n  var route = _ref.route;\n  var dispatch = useDispatch();\n  var posts = useSelector(function (state) {\n    return state.userState.posts;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      userPosts = _useState2[0],\n      setuserPosts = _useState2[1];\n\n  var currentUser = useSelector(function (state) {\n    return state.auth.currentUser;\n  });\n\n  if (route.params != null) {\n    currentUser = route.params.OtherUser;\n    useEffect(function () {\n      dispatch(showUserPets(currentUser.uid));\n    }, []);\n    var currentUserPets = useSelector(function (state) {\n      return state.pets.otherUserPets;\n    });\n  } else {\n    var currentUserPets = useSelector(function (state) {\n      return state.pets.currentUserPets;\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.top,\n      children: [_jsx(UserInfo, {\n        user: currentUser\n      }), _jsx(UserCount, {\n        user: currentUser,\n        pets: currentUserPets\n      })]\n    }), String((_currentUser = currentUser) == null ? void 0 : _currentUser.TipoUsuario) == 'Albergue' ? _jsx(_Fragment, {}) : _jsx(UserBar, {\n      setuserPosts: setuserPosts,\n      style: styles.Bar\n    }), _jsx(View, {\n      style: styles.PPContainer,\n      children: userPosts ? _jsx(UserPosts, {\n        posts: posts\n      }) : _jsx(UserPets, {\n        user: currentUser,\n        pets: currentUserPets\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","Component","useEffect","useState","Icon","styles","UserInfo","UserCount","UserPosts","UserBar","UserPets","useDispatch","useSelector","showUserPets","UserScreen","route","dispatch","posts","state","userState","userPosts","setuserPosts","currentUser","auth","params","OtherUser","uid","currentUserPets","pets","otherUserPets","container","top","String","TipoUsuario","Bar","PPContainer"],"sources":["/home/jesus/Ulima/IX-Ciclo/Gest-proyectos/pocket-pet-gp/frontend/src/screens/user/index.js"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport {\n  Text,\n  View,\n} from \"react-native\";\nimport Icon from \"react-native-ico-material-design\";\nimport styles from \"./styles\";\nimport UserInfo from \"../../components/User/Info\";\nimport UserCount from \"../../components/User/Count\";\nimport UserPosts from \"../../components/User/Posts\";\nimport UserBar from \"../../components/User/Bar\";\nimport UserPets from \"../../components/User/Pets\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { showUserPets } from \"../../redux/actions\";\n\nexport default function UserScreen({route}) {\n\n const dispatch= useDispatch()\n  const posts = useSelector((state)=>state.userState.posts)\n  const [userPosts, setuserPosts] = useState(false);\n  var currentUser = useSelector((state) => state.auth.currentUser);\n\n  if (route.params!=null) {\n    currentUser=route.params.OtherUser\n    useEffect(() => {\n    dispatch(showUserPets(currentUser.uid))\n\n  }, []);\n  var currentUserPets = useSelector((state) => state.pets.otherUserPets);\n  }\n  else{\n    \n\n    var currentUserPets = useSelector((state) => state.pets.currentUserPets);\n  }\n  \n \n\n  return (\n    <View style={styles.container}>\n      <View style={styles.top}>\n        <UserInfo user={currentUser} />\n        <UserCount user={currentUser} pets={currentUserPets} />\n      </View>\n      {String(currentUser?.TipoUsuario) == 'Albergue' ?\n        <></> :\n        <UserBar setuserPosts={setuserPosts} style={styles.Bar} />}\n\n      <View style={styles.PPContainer}>\n\n        {userPosts ? <UserPosts posts={posts}/> : <UserPets user={currentUser} pets={currentUserPets} />}\n      </View>\n    </View>\n  );\n\n\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;;;AAKA,OAAOC,IAAP,MAAiB,kCAAjB;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,OAAOC,SAAP;AACA,OAAOC,SAAP;AACA,OAAOC,OAAP;AACA,OAAOC,QAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,YAAT;;;;AAEA,eAAe,SAASC,UAAT,OAA6B;EAAA;;EAAA,IAARC,KAAQ,QAARA,KAAQ;EAE3C,IAAMC,QAAQ,GAAEL,WAAW,EAA3B;EACC,IAAMM,KAAK,GAAGL,WAAW,CAAC,UAACM,KAAD;IAAA,OAASA,KAAK,CAACC,SAAN,CAAgBF,KAAzB;EAAA,CAAD,CAAzB;;EACA,gBAAkCd,QAAQ,CAAC,KAAD,CAA1C;EAAA;EAAA,IAAOiB,SAAP;EAAA,IAAkBC,YAAlB;;EACA,IAAIC,WAAW,GAAGV,WAAW,CAAC,UAACM,KAAD;IAAA,OAAWA,KAAK,CAACK,IAAN,CAAWD,WAAtB;EAAA,CAAD,CAA7B;;EAEA,IAAIP,KAAK,CAACS,MAAN,IAAc,IAAlB,EAAwB;IACtBF,WAAW,GAACP,KAAK,CAACS,MAAN,CAAaC,SAAzB;IACAvB,SAAS,CAAC,YAAM;MAChBc,QAAQ,CAACH,YAAY,CAACS,WAAW,CAACI,GAAb,CAAb,CAAR;IAED,CAHU,EAGR,EAHQ,CAAT;IAIF,IAAIC,eAAe,GAAGf,WAAW,CAAC,UAACM,KAAD;MAAA,OAAWA,KAAK,CAACU,IAAN,CAAWC,aAAtB;IAAA,CAAD,CAAjC;EACC,CAPD,MAQI;IAGF,IAAIF,eAAe,GAAGf,WAAW,CAAC,UAACM,KAAD;MAAA,OAAWA,KAAK,CAACU,IAAN,CAAWD,eAAtB;IAAA,CAAD,CAAjC;EACD;;EAID,OACE,MAAC,IAAD;IAAM,KAAK,EAAEtB,MAAM,CAACyB,SAApB;IAAA,WACE,MAAC,IAAD;MAAM,KAAK,EAAEzB,MAAM,CAAC0B,GAApB;MAAA,WACE,KAAC,QAAD;QAAU,IAAI,EAAET;MAAhB,EADF,EAEE,KAAC,SAAD;QAAW,IAAI,EAAEA,WAAjB;QAA8B,IAAI,EAAEK;MAApC,EAFF;IAAA,EADF,EAKGK,MAAM,iBAACV,WAAD,qBAAC,aAAaW,WAAd,CAAN,IAAoC,UAApC,GACC,mBADD,GAEC,KAAC,OAAD;MAAS,YAAY,EAAEZ,YAAvB;MAAqC,KAAK,EAAEhB,MAAM,CAAC6B;IAAnD,EAPJ,EASE,KAAC,IAAD;MAAM,KAAK,EAAE7B,MAAM,CAAC8B,WAApB;MAAA,UAEGf,SAAS,GAAG,KAAC,SAAD;QAAW,KAAK,EAAEH;MAAlB,EAAH,GAAgC,KAAC,QAAD;QAAU,IAAI,EAAEK,WAAhB;QAA6B,IAAI,EAAEK;MAAnC;IAF5C,EATF;EAAA,EADF;AAkBD"},"metadata":{},"sourceType":"module"}