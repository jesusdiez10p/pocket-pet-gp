{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\2022-1\\\\GEST.PROYECTOS\\\\pocket-pet\\\\frontend\\\\src\\\\screens\\\\pets\\\\index.js\";\nimport { useNavigation } from '@react-navigation/native';\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport styles from \"./styles\";\nimport { useDispatch } from 'react-redux';\nimport { createPost } from \"../../redux/actions/post\";\nimport { useSelector } from \"react-redux\";\nimport NavBarGeneral from \"../../components/general/navbar\";\nimport { Divider } from 'react-native-paper';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport Adoptions from \"../../components/pets/Adoptions\";\nimport Requests from \"../../components/pets/PetRequest\";\nexport default function PetScreen() {\n  var navigation = useNavigation();\n  var currentUserPets = useSelector(function (state) {\n    return state.pets.currentUserPets;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      requestRunning = _useState2[0],\n      setRequestRunning = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var handleSavePost = function handleSavePost() {\n    setRequestRunning(true);\n    dispatch(createPost(description, null, fecha, situacion, estatura, accesorios, collar, tipo, petSelected)).then(function () {\n      return navigation.dispatch(StackActions.popToTop());\n    }).catch(function () {\n      return setRequestRunning(false);\n    });\n  };\n\n  var auth = useSelector(function (state) {\n    return state.auth.currentUser;\n  });\n\n  if (requestRunning) {\n    return React.createElement(View, {\n      style: styles.uploadingContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, React.createElement(ActivityIndicator, {\n      color: \"red\",\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, React.createElement(NavBarGeneral, {\n    title: 'ADOPCIONES',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }), React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }), String(auth == null ? void 0 : auth.TipoUsuario) == 'Albergue' ? React.createElement(Requests, {\n    pets: currentUserPets,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }) : React.createElement(Adoptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"names":["useNavigation","React","useState","styles","useDispatch","createPost","useSelector","NavBarGeneral","Divider","SafeAreaView","Adoptions","Requests","PetScreen","navigation","currentUserPets","state","pets","requestRunning","setRequestRunning","dispatch","handleSavePost","description","fecha","situacion","estatura","accesorios","collar","tipo","petSelected","then","StackActions","popToTop","catch","auth","currentUser","uploadingContainer","container","String","TipoUsuario"],"sources":["D:/2022-1/GEST.PROYECTOS/pocket-pet/frontend/src/screens/pets/index.js"],"sourcesContent":["import { useNavigation } from '@react-navigation/native'\r\nimport React, { useState } from 'react';\r\nimport { View, ScrollView, ActivityIndicator} from \"react-native\";\r\nimport styles from './styles';\r\nimport {useDispatch} from 'react-redux'\r\nimport { createPost } from '../../redux/actions/post'\r\nimport { useSelector } from \"react-redux\";\r\nimport NavBarGeneral from '../../components/general/navbar'\r\nimport {Divider} from 'react-native-paper'\r\nimport { SafeAreaView } from 'react-native-safe-area-context'\r\nimport Adoptions from '../../components/pets/Adoptions';\r\nimport Requests from '../../components/pets/PetRequest';\r\nexport default function PetScreen() {\r\n    \r\n    \r\n    const navigation = useNavigation()\r\n    const currentUserPets = useSelector((state) => state.pets.currentUserPets);\r\n    const [requestRunning, setRequestRunning] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSavePost = () => {\r\n        setRequestRunning(true)\r\n        dispatch(createPost(description, null, fecha, situacion, estatura, accesorios, collar, tipo, petSelected))\r\n        .then(() => navigation.dispatch(StackActions.popToTop())) //Vamos a la primer ventana\r\n        .catch(() => setRequestRunning(false))\r\n    }\r\n\r\n\r\n    const auth = useSelector((state) => state.auth.currentUser);\r\n    if(requestRunning){\r\n        return(\r\n        <View style={styles.uploadingContainer}>\r\n            <ActivityIndicator color='red' size='large' />\r\n        </View>\r\n        )\r\n    } \r\n\r\n        return (\r\n            <SafeAreaView style={styles.container}>\r\n                <ScrollView>\r\n                    <NavBarGeneral title={'ADOPCIONES'}/>\r\n                    <Divider />\r\n                {/*Si el usuario es Albergue mostrar vista Requests (solicitudes por mascota)*/}\r\n                {String(auth?.TipoUsuario)=='Albergue'?\r\n                <Requests pets={currentUserPets}/>:\r\n                <Adoptions/>\r\n            }      \r\n                </ScrollView>\r\n            </SafeAreaView>\r\n        );\r\n}\r\n\r\n"],"mappings":";;AAAA,SAASA,aAAT,QAA8B,0BAA9B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;AAEA,OAAOC,MAAP;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAASC,UAAT;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,aAAP;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,SAASC,YAAT,QAA6B,gCAA7B;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;AACA,eAAe,SAASC,SAAT,GAAqB;EAGhC,IAAMC,UAAU,GAAGb,aAAa,EAAhC;EACA,IAAMc,eAAe,GAAGR,WAAW,CAAC,UAACS,KAAD;IAAA,OAAWA,KAAK,CAACC,IAAN,CAAWF,eAAtB;EAAA,CAAD,CAAnC;;EACA,gBAA4CZ,QAAQ,CAAC,KAAD,CAApD;EAAA;EAAA,IAAOe,cAAP;EAAA,IAAuBC,iBAAvB;;EAEA,IAAMC,QAAQ,GAAGf,WAAW,EAA5B;;EAEA,IAAMgB,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IACzBF,iBAAiB,CAAC,IAAD,CAAjB;IACAC,QAAQ,CAACd,UAAU,CAACgB,WAAD,EAAc,IAAd,EAAoBC,KAApB,EAA2BC,SAA3B,EAAsCC,QAAtC,EAAgDC,UAAhD,EAA4DC,MAA5D,EAAoEC,IAApE,EAA0EC,WAA1E,CAAX,CAAR,CACCC,IADD,CACM;MAAA,OAAMhB,UAAU,CAACM,QAAX,CAAoBW,YAAY,CAACC,QAAb,EAApB,CAAN;IAAA,CADN,EAECC,KAFD,CAEO;MAAA,OAAMd,iBAAiB,CAAC,KAAD,CAAvB;IAAA,CAFP;EAGH,CALD;;EAQA,IAAMe,IAAI,GAAG3B,WAAW,CAAC,UAACS,KAAD;IAAA,OAAWA,KAAK,CAACkB,IAAN,CAAWC,WAAtB;EAAA,CAAD,CAAxB;;EACA,IAAGjB,cAAH,EAAkB;IACd,OACA,oBAAC,IAAD;MAAM,KAAK,EAAEd,MAAM,CAACgC,kBAApB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GACI,oBAAC,iBAAD;MAAmB,KAAK,EAAC,KAAzB;MAA+B,IAAI,EAAC,OAApC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADJ,CADA;EAKH;;EAEG,OACI,oBAAC,YAAD;IAAc,KAAK,EAAEhC,MAAM,CAACiC,SAA5B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACI,oBAAC,UAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACI,oBAAC,aAAD;IAAe,KAAK,EAAE,YAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,EAEI,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFJ,EAICC,MAAM,CAACJ,IAAD,oBAACA,IAAI,CAAEK,WAAP,CAAN,IAA2B,UAA3B,GACD,oBAAC,QAAD;IAAU,IAAI,EAAExB,eAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADC,GAED,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANA,CADJ,CADJ;AAaP"},"metadata":{},"sourceType":"module"}